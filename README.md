# Краткое описание структуры проекта

Импортирование всех необходимых пакетов происходит следующей командой:  
`pip install -r requirements.txt`

Скрипты можно запускать после загрузки исходных датасетов в директорию: `data/raw/`

## Основные скрипты

- EDA.ipynb - тетрадь с анализом данных
- data/raw/ - папка с изначальными датасетами
- data_cleaning.py - скрипт, который очищает данные и производит деление выборки на тренировочную и тестовую
- data/cleaned/ - папка с "почищеными" датасетами
- data_preparation.py - скрипт, который очищает данные, преобразует и добавляет новые фичи и производит деление выборки
  на тренировочную и тестовую
- data/prepared/ - папка с "почищенными" датасетами с новыми фичами
- boosting_finetuning.py - производит обучение xgboosting, lightgbm, catboosting с помощью созданных BoostTuner'ов,
  созданных для подбора гиперпараметров с помощью библиотеки optuna. Обучение производится просто на очищенных данных с
  последующим сохранением лучших гиперпараметров.
- boosting_finetuning_with_prepared_data.py - производит обучение xgboosting, lightgbm, catboosting с помощью созданных
  BoostTuner'ов, созданных для подбора гиперпараметров с помощью библиотеки optuna. Обучение производится на очищенных
  данных с новыми фичами с последующим сохранением лучших гиперпараметров
- data/models/cleaned_based - папка для сохранения лучших гиперпараметров моделей бустингов, обученной на "чистых" данных
- data/models/prepared_based - папка для сохранения лучших гиперпараметров моделей бустингов, обученной на "чистых" данных с новыми фичами
- src/tuners - классы , которые используются для подбора гиперпараметров бустингов с помощью optuna. Используются в
  boosting_finetuning.py и boosting_finetuning_with_prepared_data.py
- boosting_prod_version.py - скрипт загружает параметры лучшей модели, обучает модель на полном датасете и предсказывает значения в тестовом.
Предсказанные значения заполняются в колонку revenue_30d_total и сохраняет датасет с предсказаниями в data/test_with_predicted_revenue/
- data/test_with_predicted_revenue/ - папка, куда сохраняется финальное решение

## Further work

- Добавить pipeline DVC, MLFlow для оркестрации вычислительных экспериментов и сохранения промежуточных результатов
- Посмотреть наиболее значимые признаки, используемые бустингами для модификации EDA и подготовки данных
- Углубленный Feature Engineering
- Провести более полный и углубленный fine tuning
- Дальнейшие шаги по Feature selection и EDA описаны EDA.ipynb
